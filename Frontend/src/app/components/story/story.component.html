<div id="story-container">
	<mat-card class="story">
		<h1>{{ story.title }}</h1>
		<h5>{{ story.date }}</h5>
		<br />
		<p>{{ story.journal }}</p>
		<br />
		<h3>Drugs taken:</h3>
		<ul id="story-drugs">
			<li *ngFor="let drug of story.drugs">
				{{ drug.drugName }} - {{ drug.dosage }}
			</li>
		</ul>
		<br />
		<h3>Mood</h3>
		<app-mood-graph [storyId]="this.storyId"></app-mood-graph>
		<mat-card-actions>
			<button
				*ngIf="this.userId"
				mat-raised-button
				(click)="
					upvoteStory({
						storyId: story.storyId,
						userId: this.userId
					})
				"
			>
				Upvote - {{story.votes}}
			</button>
			<button *ngIf="this.userId" mat-raised-button (click)="openAddComment()">Reply to Story</button>
			<button *ngIf="story.userId == this.userId" mat-raised-button (click)="deleteStory(story.storyId)">Delete</button>
		</mat-card-actions>
	</mat-card>
	<app-comments [storyId]="storyId"></app-comments>
</div>
